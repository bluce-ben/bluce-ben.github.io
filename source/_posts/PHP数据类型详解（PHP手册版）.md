---
title: PHP数据类型详解（PHP手册版）
date: 2018-01-31 17:45:42
categories:
- PHP
tags:
- PHP知识点
- PHP
---
**数据类型**
四种标量类型：
> boolean（布尔型）、integer（整型）、float（浮点型，也称为double）、string（字符串）

两种复合类型：
> array（数组）、object（对象）

两种特殊类型：
> resource（资源）、Null

其它伪类型：
> mixed（混合类型）、number（数字类型）、callback（回调类型）、void（无类型）

<!--more-->

#### 布尔型（boolean）：####
（1）指定一个布尔值，使用常量 TRUE 或 FALSE。两个都不区分大小写。
（2）强制转换为布尔型，用 (bool) 或 (boolean) 来强制转换。但是很多情况下不需要强制转换，会被自动转换。
当转换为 boolean 时，以下值被认为是 FALSE： 
* 布尔值 FALSE 本身  
* 整型值 0（零）  
* 浮点型值 0.0（零）  
* 空字符串，以及字符串 "0"  
* 不包括任何元素的数组  
* 特殊类型 NULL（包括尚未赋值的变量）  
* 从空标记生成的 SimpleXML 对象  

所有其它值都被认为是 TRUE（包括任何资源 和 NAN）。


#### 整型（interger）：####
（1）整型值可以使用十进制，十六进制，八进制或二进制表示，前面可以加上可选的符号（- 或者 +）。
要使用八进制表达，数字前必须加上 0（零）。要使用十六进制表达，数字前必须加上 0x。要使用二进制表达，数字前必须加上 0b。
（2）要明确地将一个值转换为 integer，用 (int) 或 (integer) 强制转换。不过大多数情况下都不需要强制转换，因为当运算符，函数或流程控制需要一个 integer 参数时，值会自动转换。还可以通过函数 intval() 来将一个值转换成整型。 
当从浮点数转换成整数时，将向下取整。 


#### 浮点型（float）：####
（1）浮点型（也叫浮点数 float，双精度数 double 或实数 real）。
（2）浮点数的精度
浮点数的精度有限。尽管取决于系统，PHP 通常使用 IEEE 754 双精度格式，则由于取整而导致的最大相对误差为 1.11e-16。非基本数学运算可能会给出更大误差，并且要考虑到进行复合运算时的误差传递。 
（3）NaN
某些数学运算会产生一个由常量 NAN 所代表的结果。此结果代表着一个在浮点数运算中未定义或不可表述的值。任何拿此值与其它任何值（除了 TRUE）进行的松散或严格比较的结果都是 FALSE。 
由于 NAN 代表着任何不同值，不应拿 NAN 去和其它值进行比较，包括其自身，应该用 is_nan() 来检查。 


#### 字符串（string）：####
（1）一个字符串 string 就是由一系列的字符组成，其中每个字符等同于一个字节。这意味着 PHP 只能支持 256 的字符集，因此不支持 Unicode 。
（注：Note: string 最大可以达到 2GB。）
（2）一个字符串可以用 4 种方式表达： 
* 单引号  ：定义一个字符串的最简单的方法是用单引号把它包围起来（字符 '）。
* 双引号  ：如果字符串是包围在双引号（"）中， PHP 将对一些特殊的字符进行解析。
* heredoc 语法结构  ：
第三种表达字符串的方法是用 heredoc 句法结构：<<<。在该运算符之后要提供一个标识符，然后换行。接下来是字符串 string 本身，最后要用前面定义的标识符作为结束标志。 
结束时所引用的标识符必须在该行的第一列，而且，标识符的命名也要像其它标签一样遵守 PHP 的规则：只能包含字母、数字和下划线，并且必须以字母和下划线作为开头。
（Heredoc 结构就象是没有使用双引号的双引号字符串，这就是说在 heredoc 结构中单引号不用被转义，但是上文中列出的转义序列还可以使用。变量将被替换，但在 heredoc 结构中含有复杂的变量时要格外小心。 ）
* nowdoc 语法结构（自 PHP 5.3.0 起） 
就象 heredoc 结构类似于双引号字符串，Nowdoc 结构是类似于单引号字符串的。Nowdoc 结构很象 heredoc 结构，但是 nowdoc 中不进行解析操作。这种结构很适合用于嵌入 PHP 代码或其它大段文本而无需对其中的特殊字符进行转义。与 SGML 的 <![CDATA[ ]]> 结构是用来声明大段的不用解析的文本类似，nowdoc 结构也有相同的特征。 
一个 nowdoc 结构也用和 heredocs 结构一样的标记 <<<， 但是跟在后面的标识符要用单引号括起来，即 <<<'EOT'。Heredoc 结构的所有规则也同样适用于 nowdoc 结构，尤其是结束标识符的规则。

**（注：函数、方法、静态类变量和类常量只有在 PHP 5 以后才可在 {$} 中使用。然而，只有在该字符串被定义的命名空间中才可以将其值作为变量名来访问。只单一使用花括号 ({}) 无法处理从函数或方法的返回值或者类常量以及类静态变量的值。 ）**
（3）字符串可以用 '.'（点）运算符连接起来，注意 '+'（加号）运算符没有这个功能。对于 string 的操作有很多有用的函数，后面予以单独说明。


#### 数组（array）：####
PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。 
（1）语法：
```
定义数组 array()
可以用 array() 语言结构来新建一个数组。它接受任意数量用逗号分隔的 键（key） => 值（value）对。 
array(  key =>  value
     , ...
     )
// 键（key）可是是一个整数 integer 或字符串 string
// 值（value）可以是任意类型的值
```
最后一个数组单元之后的逗号可以省略。通常用于单行数组定义中，例如常用 array(1, 2) 而不是 array(1, 2, )。对多行数组定义通常保留最后一个逗号，这样要添加一个新单元时更方便。 
自 5.4 起可以使用短数组定义语法，用 [] 替代 array()。 
**（注：key 可以是 integer 或者 string。value 可以是任意类型。）**

**此外 key 会有如下的强制转换： **
* 包含有合法整型值的字符串会被转换为整型。例如键名 "8" 实际会被储存为 8。但是 "08" 则不会强制转换，因为其不是一个合法的十进制数值。  
* 浮点数也会被转换为整型，意味着其小数部分会被舍去。例如键名 8.7 实际会被储存为 8。  
* 布尔值也会被转换成整型。即键名 true 实际会被储存为 1 而键名 false 会被储存为 0。  
* Null 会被转换为空字符串，即键名 null 实际会被储存为 ""。  
* 数组和对象不能被用为键名。坚持这么做会导致警告：Illegal offset type。  

如果在数组定义中多个单元都使用了同一个键名，则只使用了最后一个，之前的都被覆盖了。

（2）注意事项：
 ① 方括号和花括号可以互换使用来访问数组单元（例如 $array[42] 和 $array{42} 在上例中效果相同）。
 ② 试图访问一个未定义的数组键名与访问任何未定义变量一样：会导致 E_NOTICE 级别错误信息，其结果为 NULL。
 ③ 要修改某个值，通过其键名给该单元赋一个新值。要删除某键值对，对其调用 unset() 函数。
 ④ 应该始终在用字符串表示的数组索引上加上引号。例如用 $foo['bar'] 而不是 $foo[bar]。原因是此代码中有一个未定义的常量（bar）而不是字符串（'bar'－注意引号），而 PHP 可能会在以后定义此常量，不幸的是你的代码中有同样的名字。它能运行，是因为 PHP 自动将裸字符串（没有引号的字符串且不对应于任何已知符号）转换成一个其值为该裸字符串的正常字符串。例如，如果没有常量定义为 bar，PHP 将把它替代为 'bar' 并使用之。
 但这并不意味着总是给键名加上引号。用不着给键名为常量或变量的加上引号，否则会使 PHP 不能解析它们。


#### 对象类型（Object）：####
要创建一个新的对象 object，使用 new 语句实例化一个类。
转换为对象：如果将一个对象转换成对象，它将不会有任何变化。如果其它任何类型的值被转换成对象，将会创建一个内置类 stdClass 的实例。如果该值为 NULL，则新的实例为空。 array 转换成 object 将使键名成为属性名并具有相对应的值，除了数字键，不迭代就无法被访问。 


#### 资源类型（resource）： ####
资源 resource 是一种特殊变量，保存了到外部资源的一个引用。资源是通过专门的函数来建立和使用的。
转换为资源：由于资源类型变量保存有为打开文件、数据库连接、图形画布区域等的特殊句柄，因此将其它类型的值转换为资源没有意义。 


#### NULL： ####
特殊的 NULL 值表示一个变量没有值。NULL 类型唯一可能的值就是 NULL。 
**（注：NULL 类型只有一个值，就是不区分大小写的常量 NULL。）**
在下列情况下一个变量被认为是 NULL： 
* 被赋值为 NULL。 
* 尚未被赋值。 
* 被 unset()。


#### 许的强制转换有：  ####
* (int), (integer) - 转换为整形 integer 
* (bool), (boolean) - 转换为布尔类型 boolean 
* (float), (double), (real) - 转换为浮点型 float 
* (string) - 转换为字符串 string 
* (array) - 转换为数组 array 
* (object) - 转换为对象 object 
* (unset) - 转换为 NULL (PHP 5) 
* (binary) 转换和 b 前缀转换支持为 PHP 5.2.1 新增。 

**（注意在括号内允许有空格和制表符）**