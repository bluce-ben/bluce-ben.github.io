---
title: Linux之常用命令集锦
date: 2018-10-12 12:24:19
categories:
- 书籍
- 《Linux就该这么学》
tags:
- Linux
- 书籍
---
Linux命令的格式是这样的：
　　`命令名称 [命令参数] [命令对象]`
注意，命令名称、命令参数、命令对象之间请用空格键分隔。
命令对象一般是指要处理的文件、目录、用户等资源，而命令参数可以用长格式（完整的选项名称），也可以用短格式（单个字母的缩写），两者分别用\-\-与\-作为前缀。

**命令参数的长格式与短格式示例：**

长格式		| man --help
------------|-----------
短格式		| man -h

<!--more-->

**1、man**
man命令中常用按键以及用途
<style>
	table th:first-of-type {
		width: 30%;
	}
</style>

按键		|	用途
------------|------------------
空格键		| 向下翻一页
PaGe down	| 向下翻一页
PaGe up		| 向上翻一页
home		| 直接前往首页
end			| 直接前往尾页
/			| 从上至下搜索某个关键词，如“/linux”
?			| 从下至上搜索某个关键词，如“?linux”
n			| 定位到下一个搜索到的关键词
N			| 定位到上一个搜索到的关键词
q			| 退出帮助文档

**man 命令帮助信息的结构以及意义**

结构名称		|	代表意义
----------------|--------------------
NAME			| 命令的名称
SYNOPSIS		| 参数的大致使用方法
DESCRIPTION		| 介绍说明
EXAMPLES		| 演示（附带简单说明）
OVERVIEW		| 概述
DEFAULTS		| 默认的功能
OPTIONS			| 具体的可用选项（带介绍）
ENVIRONMENT		| 环境变量
FILES			| 用到的文件
SEE ALSO		| 相关的资料
HISTORY			| 维护历史与联系方式


#### 一、常用系统工作命令
##### 1、echo [选项] 命令

参数		|	作用
------------|----------------
-e 			| 若字符串出现以下字符，则特别加以处理，而不会将它当成一般文字输出（类似一些特殊字符）
-n 			| 不要在最后自动换行

##### 2、date命令
格式： date [选项] [+指定的格式]
date 命令中输入以“+”号开头的参数，即可按照指定格式来输出系统的时间或日期。
**date命令中的参数以及作用**

参数		|	作用
------------|----------------
%t			| 跳格[Tab 键]
%Y			| 年
%m			| 月
%d			| 日
%H			| 小时（00～23）
%I			| 小时（00～12）
%M			| 分钟（00～59）
%S			| 秒（00～59）
%j			| 今年中的第几天

##### 3、reboot命令
##### 4、poweroff命令
##### 5、wget命令
wget 命令的参数以及作用

参数		|	作用
------------|----------------
-b			| 后台下载模式
-P			| 下载到指定目录
-t			| 最大尝试次数
-c			| 断点续传
-p			| 下载页面内所有资源，包括图片、视频等
-r			| 递归下载

##### 6、ps命令
ps 命令的参数以及作用

参数		|	作用
------------|----------------
-a			| 显示所有进程（包括其他用户的进程）
-u			| 用户以及其他详细信息
-x			| 显示没有控制终端的进程

##### 7、top命令

##### 8、pidof命令
用于查询某个指定服务进程的PID值。
格式：pidof [参数] [服务名称]

##### 9、kill命令
格式：kill [参数] [进程PID]
##### 10、killall命令
格式：killall [参数] [服务名称]

##### 11、ln 命令
用于创建链接文件，格式为“ln [选项] 目标”。

参数	|	作用
--------|----------------
-s		| 创建“符号链接”（如果不带-s 参数，则默认创建硬链接）
-f		| 强制创建文件或目录的链接
-i		| 覆盖前先询问
-v		| 显示创建链接的过程

##### 12、scp 命令
scp（secure copy）是一个基于 SSH 协议在网络之间进行安全传输的命令，其格式为“scp [参数] 本地文件 远程帐户@远程 IP 地址:远程目录”。

参数	|	作用
--------|----------------
-v		| 显示详细的连接进度
-P		| 指定远程主机的 sshd 端口号
-r		| 用于传送文件夹
-6		| 使用 IPv6 协议


#### 二、系统状态检测命令
查看Linux主机公网IP
`curl ifconfig.me`
##### 1、ifconfig命令
其实主要查看的就是网卡名称、inet 参数后面的 IP 地址、ether 参数后面的网卡物理地址（又称为 MAC 地址），
以及 RX、TX 的接收数据包与发送数据包的个数及累计流量。
```
[root@linuxprobe ~]# ifconfig
eno16777728: flags=4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500
	inet 192.168.10.10 netmask 255.255.255.0 broadcast 192.168.10.255
	inet6 fe80::20c:29ff:fec4:a409 prefixlen 64 scopeid 0x20<link>
	ether 00:0c:29:c4:a4:09 txqueuelen 1000 (Ethernet)
	RX packets 36 bytes 3176 (3.1 KiB)
	RX errors 0 dropped 0 overruns 0 frame 0
	TX packets 38 bytes 4757 (4.6 KiB)
	TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0
```

##### 2、uname 命令
格式：uname [-a]

##### 3、uptime 命令
查看系统的负载信息。格式为 uptime
平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况（下面加粗的信息部分）；
负载值越低越好，尽量不要长期超过 1，在生产环境中不要超过 5。

##### 4、free 命令
用于显示当前系统中内存的使用量信息，格式为“free [-h]”。

##### 5、who命令
用于查看当前登入主机的用户终端信息，格式为“who [参数]”。

##### 6、last命令
用于查看所有系统的登录记录，格式为“last [参数]”。

##### 7、history命令
用于显示历史执行过的命令，格式为“history [-c]”。
默认显示1000，如果觉得 1000 不够用，还可以自定义/etc/profile 文件中的HISTSIZE 变量值。
在使用 history 命令时，如果使用-c 参数则会清空所有的命令历史记录。


#### 三、工作目录切换命令
##### 1、pwd
##### 2、cd
##### 3、ls

#### 四、文本文件编辑命令
##### 1、查看
cat head tail more less

##### 2、tr命令
用于替换文本文件中的字符，格式为“tr [原始字符] [目标字符]”。

##### 3、wc命令
用于统计指定文本的行数（\-l）、字数（\-w）、字节数（\-c），格式为“wc [参数] 文本”。

##### 4、stat命令
用于查看文件的具体存储信息和时间等信息，格式为“stat 文件名称”。

##### 5、cut命令
用于按“列”提取文本字符，格式为“cut [参数] 文本”。
使用\-f 参数来设置需要看的列数，还需要使用\-d 参数来设置间隔符号
示例：`cut -d: -f1 /etc/passwd`

##### 6、diff命令
用于比较多个文本文件的差异，格式为“diff [参数] 文件”。


#### 五、文件目录管理命令
##### 1、touch命令
用于创建空白文件或设置文件的时间，格式为“touch [选项] [文件]”。

##### 2、mkdir命令
用于创建空白的目录，格式为“mkdir [选项] 目录”。

##### 3、cp命令
用于复制文件或目录，格式为“cp [选项] 源文件 目标文件”。

##### 4、mv命令
用于剪切文件或将文件重命名，格式为“mv [选项] 源文件 [目标路径|目标文件名]”。

##### 5、rm命令
用于删除文件或目录，格式为“rm [选项] 文件”。

##### 6、dd命令
用于按照指定大小和个数的数据块来复制文件或转换文件，格式为“dd [参数]”。
dd 命令的参数及其作用

参数		|	作用
------------|----------------
if			| 输入的文件名称
of			| 输出的文件名称
bs			| 设置每个“块”的大小
count		| 设置要复制“块”的个数

Linux系统中有一个名为/dev/zero 的设备文件，这个文件不会占用系统存储空间，但却可以提供无穷无尽的数据，因此可以使用它作为 dd命令的输入文件，来生成一个指定大小的文件。
例如我们可以用 dd 命令从/dev/zero 设备文件中取出一个大小为 560MB 的数据块，然后保存成名为 560_file 的文件。
`dd if=/dev/zero of=560_file count=1 bs=560MB`

##### 7、file命令
用于查看文件的类型，格式为“file 文件名”。


#### 六、打包压缩与搜索命令
##### 1、tar 命令
用于对文件进行打包压缩或解压，格式为“tar [选项] [文件]”。
tar 命令的参数及其作用

参数		|	作用
------------|----------------
-c			| 创建压缩文件
-x			| 解开压缩文件
-t			| 查看压缩包内有哪些文件
-z			| 用 Gzip 压缩或解压
-j			| 用 bzip2 压缩或解压
-v			| 显示压缩或解压的过程
-f			| 目标文件名
-p			| 保留原始的权限与属性
-P			| 使用绝对路径来压缩
-C			| 指定解压到的目录

注：\-c 参数用于创建压缩文件，\-x 参数用于解压文件，因此这两个参数不能同时使用。

非常推荐使用-v 参数向用户不断显示压缩或解压的过程。
* -C 参数用于指定要解压到哪个指定的目录。
* -f 参数特别重要，它必须放到参数的最后一位，代表要压缩或解压的软件包名称。

常用组合命令：
`tar -czvf 压缩包名称.tar.gz 要打包的目录`
`tar -xzvf 压缩包名称.tar.gz -C 解压到的目录`

##### 2、grep命令
用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项] [文件]”。
grep 命令的参数及其作用

参数		|	作用
------------|----------------
-b			| 将可执行文件（binary）当作文本文件（text）来搜索
-c			| 仅显示找到的行数
-i			| 忽略大小写
-n			| 显示行号
-v			| 反向选择—仅列出没有“关键词”的行

最常用的参数：\-n 参数用来显示搜索到信息的行号；\-v 参数用于反选信息（即没有包含关键词的所有信息行）。

##### 3、find命令
用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”。
find 命令中的参数以及作用

参数				|	作用
--------------------|----------------
-name				| 匹配名称
-perm				| 匹配权限（mode 为完全匹配，-mode 为包含即可）
-user				| 匹配所有者
-group				| 匹配所有组
-mtime -n +n		| 匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前）
-atime -n +n		| 匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前）
-ctime -n +n		| 匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前）
-nouser				| 匹配无所有者的文件
-nogroup			| 匹配无所有组的文件
-newer f1 !f2		| 匹配比文件 f1 新但比 f2 旧的文件
--type b/d/c/p/l/f	| 匹配文件类型（后面的字母参数依次表示块设备、目录、字符设备、管道、链接文件、文本文件）
-size				| 匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于 50KB 的文件）
-prune				| 忽略某个目录
-exec …… {}\;		| 后面可跟用于进一步处理搜索结果的命令（下文会有演示）

>重点是 “-exec {}  \;” 参数，其中的{}表示find命令搜索出的每一个文件，并且命令的结尾必须是“\;”。
`[root@linuxprobe ~]# find / -user linuxprobe -exec cp -a {} /root/findresults/ \;`

